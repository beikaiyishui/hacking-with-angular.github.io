<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="分享你需要的和喜欢的文章">
    

    <!--Author-->
    
        <meta name="author" content="iAngular">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Step 6 - Services"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="分享你需要的和喜欢的文章" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="HACKING WITH ANGULAR"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Step 6 - Services - HACKING WITH ANGULAR</title>

    <!-- # add favicon -->
    <link rel="icon" href="/favicon.ico" />

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <!--<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">-->
    <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!--<link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">-->
    <!--<link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>-->
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <!--<script src="https://raw.githubusercontent.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/html5shiv.js"></script>-->
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <!--<script src="https://raw.githubusercontent.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/respond.min.js"></script>-->
    <!--[endif]-->

    <!-- Gallery -->
    <link href="https://cdn.rawgit.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/featherlight.min.css" type="text/css" rel="stylesheet" />
    <!--<link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />-->

    <!-- Google Analytics -->
    


</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">iAngular</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                About
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/hacking-with-angular">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/images/angular2-travel/services.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Step 6 - Services</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        Posted by dreamapplehappy on
                        
                        2016-09-18
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p id="busuanzi_container_page_pv" style="font-size: 20px; color: #337ab7; text-align: center;">
                    <i class="fa fa-eye" aria-hidden="true"></i>
                    <span id="busuanzi_value_page_pv"></span>
                </p>
            </div>
        </div>
        <div class="row">

            <!-- Tags and categories -->
            
            <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                
                


<a href="/tags/Angular2/">#Angular2</a> <a href="/tags/Travel/">#Travel</a>


                
            </div>
            <div class="col-lg-4 col-md-5 post-categories">
                
            </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>这篇文章我们来讲解如何使用<code>service(服务)</code>,谈及服务我们就要了解什么是服务;在<code>Angular</code>中,我们所说的服务是指那些能够被其它的组件或者指令调用的<strong>单一的</strong>,<strong>可共享的</strong>代码块.服务能够使我们提高代码的利用率,方便组件之间共享数据和方法,方便测试和维护.</p>
<p>如果你看了上一篇文章<a href="https://hacking-with-angular.github.io/2016/08/11/dependency-injection/">Step 5 - Dependency Injection</a>,你就会发现我们这一部分讲解的内容和上一篇有很多的相似之处;当然也有一些新的知识点,温故而知新嘛;好了让我们来开始今天的旅行吧.</p>
<p>首先我们还是切换回之前的<a href="https://github.com/hacking-with-angular/angular2-travel/tree/quickstart" target="_blank" rel="external">quickstart</a>版本,然后运行:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm run start</div></pre></td></tr></table></figure></p>
<p>可以看到<code>My First Angular2 Travel</code>,然后继续我们的铺垫工作;主要是三个部分:<br>1.将我们的组件模板使用单一的<code>html</code>模板来替代;<br>2.构建<code>User</code>类方便我们后面的使用;<br>3.构建我们的模拟数据,方便我们使用服务来获取这些数据;</p>
<p>首先我们来完成第一部分,修改<code>app.component.ts</code>中<code>@Component</code>的元数据:<del><code>template: &#39;&lt;h1&gt;My First Angular2 Travel&lt;/h1&gt;&#39;</code></del>改为:<code>templateUrl: &#39;app/templates/main.html&#39;</code>,然后我们在<code>main.html</code>中书写我们的模板代码:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>My First Angular2 Travel<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>然后我们来进行第二个工作,创建我们的<code>User</code>类;为了展示方便,我们就给<code>User</code>两个属性吧,一个是<code>id(number)</code>,一个是<code>name(string)</code>;文件的路径是:<code>app/classes/User.ts</code>,具体的代码如下:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> User &#123;</div><div class="line">    <span class="comment">//id: number;</span></div><div class="line">    <span class="comment">//name: string;</span></div><div class="line"></div><div class="line">    <span class="keyword">constructor</span>(</div><div class="line">        private id: number,</div><div class="line">        private name: string</div><div class="line">    )&#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>上面注释的部分是这个<code>User</code>类的简写,这个根据个人的喜好;你喜欢写就怎么写.</p>
<p>最后一项工作就是来创造我们的模拟数据,我们现在还没有学习如何在<code>Angular2</code>中使用<code>HTTP</code>,所以我们暂时将这些数据记录在一个文件中,然后导出这些数据,供我们接下来使用.我们的模拟数据文件路径是:<code>app/mock/user.data.ts</code>;下面是代码部分:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;User&#125; from <span class="string">"../classes/User"</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> USERS: User[] = [</div><div class="line">    &#123;id: <span class="number">1</span>, name: <span class="string">'dreamapple1'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">2</span>, name: <span class="string">'dreamapple2'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">3</span>, name: <span class="string">'dreamapple3'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">4</span>, name: <span class="string">'dreamapple4'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">5</span>, name: <span class="string">'dreamapple5'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">6</span>, name: <span class="string">'dreamapple6'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">7</span>, name: <span class="string">'dreamapple7'</span>&#125;,</div><div class="line">    &#123;id: <span class="number">8</span>, name: <span class="string">'dreamapple8'</span>&#125;</div><div class="line">];</div></pre></td></tr></table></figure></p>
<p>可以看到,我们导出了一个数组,这个数组的每一个元素都是一个<code>User</code>类的实例.</p>
<p>接下来,我们就要步入今天的主题了;构建一个服务,这个服务能够获取我们刚刚书写的模拟数据;首先不要忘记的是,<code>service</code>是一个类,然后这个类可以注入到别的组件<br>或者指令中去,还有一点就是我们知道,获取数据的服务往往都是异步的,所以我们使用了<code>Promise</code>去封装我们获取到的数据,来模拟异步请求;文件的路径是:<code>app/service/user.service.ts</code>,我们也遵循一个约定,服务的文件后缀是<code>*.service.ts</code>,前面的单词如果是多个的话就使用短横线来连接,比如<code>SpecialUserService</code>我们就写成<code>special-user.service.ts</code>,详细的部分请看代码:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;User&#125; from <span class="string">"../classes/User"</span>;</div><div class="line"><span class="keyword">import</span> &#123;USERS&#125; from <span class="string">"../mock/user.data"</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> UserService &#123;</div><div class="line">    getUsers(): User[] &#123;</div><div class="line">        <span class="keyword">return</span> Promise.resolve(USERS);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>关于上面代码的一些解释:因为我们的<code>getUsers</code>函数是有返回值的,它的返回值是一个数组,数组的每一个元素都是<code>User</code>类的实例,所以我们使用了<code>getUsers(): User[]</code>,还有因为我们要模拟异步请求获取数据,所以我们使用了<code>Promise</code>,如果你对<code>Promise</code>有什么不懂的地方,可以看看<a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="external">这里</a>.</p>
<p>接下来我们就要使用这个服务了,如何使用这个服务呢?在上一章节中我们已经讲解了许多种使用服务的方法;现在我们使用最简单的一种方式,直接使用<code>providers</code>来注入我们的服务,然后我们还要把我们获取到的数据展示到我们的模板中,具体的代码如下所示:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;User&#125; from <span class="string">"./classes/User"</span>;</div><div class="line"><span class="keyword">import</span> &#123;UserService&#125; from <span class="string">"./services/user.service"</span>;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 别忘记了使用@前缀</div><div class="line"> * 这里相当于组件视图</div><div class="line"> */</div><div class="line">@Component(&#123;</div><div class="line">    selector: <span class="string">'my-app'</span>,</div><div class="line">    <span class="comment">//template: '&lt;h1&gt;My First Angular2 Travel&lt;/h1&gt;',</span></div><div class="line">    templateUrl: <span class="string">'app/templates/main.html'</span>,</div><div class="line">    providers: [UserService]</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 导出这个组件,也就是一个类</div><div class="line"> * 这里相当于组件控制器</div><div class="line"> */</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent &#123;</div><div class="line">    users: User[];</div><div class="line"></div><div class="line">    <span class="keyword">constructor</span>(private userService: UserService)&#123;</div><div class="line">        <span class="comment">//noinspection TypeScriptUnresolvedFunction</span></div><div class="line">        <span class="keyword">this</span>.userService.getUsers().then(</div><div class="line">            users =&gt; <span class="keyword">this</span>.users = users</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我们也要改动<code>main.html</code>的内容:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>My First Angular2 Travel<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let user of users"</span>&gt;</span>&#123;&#123;user.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这时我们打开浏览器,就会看到我们想要的结果:<br><img src="http://angular.angular-china.org/250af0ce-0cb7-48e2-82ed-30ec2e5ef92b.png" alt="service"></p>
<p>上面的写法是有一些问题的,构造函数是为了简单的初始化工作而设计的,比如把构造函数的参数赋值给属性.它的负担不应该过于沉重.所以我们把数据的获取放在了组件的生命周期的钩子函数中去,如果你不了解组件的生命周期的话,那么你可以<a href="https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html" target="_blank" rel="external">看看这里</a>,在这里我们使用了<code>ngOnInit</code>;我们修改一下上面的代码:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;Component, OnInit&#125; from <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123;User&#125; from <span class="string">"./classes/User"</span>;</div><div class="line"><span class="keyword">import</span> &#123;UserService&#125; from <span class="string">"./services/user.service"</span>;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 别忘记了使用@前缀</div><div class="line"> * 这里相当于组件视图</div><div class="line"> */</div><div class="line">@Component(&#123;</div><div class="line">    selector: <span class="string">'my-app'</span>,</div><div class="line">    <span class="comment">//template: '&lt;h1&gt;My First Angular2 Travel&lt;/h1&gt;',</span></div><div class="line">    templateUrl: <span class="string">'app/templates/main.html'</span>,</div><div class="line">    providers: [UserService]</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 导出这个组件,也就是一个类</div><div class="line"> * 这里相当于组件控制器</div><div class="line"> */</div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppComponent <span class="keyword">implements</span> OnInit&#123;</div><div class="line">    users: User[];</div><div class="line"></div><div class="line">    <span class="keyword">constructor</span>(</div><div class="line">        private userService: UserService</div><div class="line">    )&#123;&#125;</div><div class="line"></div><div class="line">    getUsersData() &#123;</div><div class="line">        <span class="keyword">this</span>.userService.getUsers()</div><div class="line">            .then(users =&gt; <span class="keyword">this</span>.users = users);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    ngOnInit() &#123;</div><div class="line">        <span class="keyword">this</span>.getUsersData();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>上面代码的一些解释,首先我们在<code>@angular/core</code>中导出了<code>OnInit</code>这个接口,然后我们又通过组件中的<code>ngOnInit</code>方法实现了这个接口;将构造函数中的获取数据的业务提取了出来,这种做法是组件初始化的时候获取数据比较好的一种方案.我们在后面的文章中也会讲解关于组件或者指令生命周期的文章.</p>
<p>最后,我们还可以更真实的的去模拟从服务器读取数据的操作;我们可以通过使用<code>setTimeout</code>来延时获取我们的数据,这就很好地模拟了我们从服务器获取数据的操作;具体的代码部分看下面:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;User&#125; from <span class="string">"../classes/User"</span>;</div><div class="line"><span class="keyword">import</span> &#123;USERS&#125; from <span class="string">"../mock/user.data"</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> UserService &#123;</div><div class="line">    getUsers(): Promise&lt;User[]&gt; &#123;</div><div class="line">        <span class="keyword">return</span> Promise.resolve(USERS);</div><div class="line">    &#125;</div><div class="line">    getMockUsers(): Promise&lt;User[]&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Promise(resolve =&gt; setTimeout(resolve(USERS), <span class="number">2000</span>))</div><div class="line">            .then(() =&gt; <span class="keyword">this</span>.getUsers());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>首先需要注意的一点是,我们之前写的代码把<code>getUsers()</code>函数的返回值定义为<code>User[]</code>,其实更准确的应该是<code>Promise&lt;User[]&gt;</code>;我们接下来写的函数<code>getMockUsers()</code>利用<code>setTimeout</code>延时返回了我们的模拟数据.</strong></p>
<p>其实我们的程序里还有一个小错误,不容易被发现;当我在构建的时候我发现了下面的错误:<br><img src="http://angular.angular-china.org/532055d9-8315-459a-be44-25ac65570ce4.png" alt="services"></p>
<p>它提醒我们说,<code>Property &#39;id&#39; is private in type &#39;User&#39; but not in type &#39;{ id: number; name: string; }&#39;.</code>这是因为我们把<code>id</code>作为<code>User</code>的私有属性了,但是在<code>{ id: number; name: string; }</code>对象中,<code>id</code>不是私有的属性;要解决这个问题有多种思路,你可以将我们的模拟数据使用<code>User</code>类来创建,或者将<code>id</code>和<code>name</code>作为<code>public</code>属性.那我们就取一个简单的方法,将属性定义为<code>public</code>.<code>User</code>类的代码修改如下:<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">class</span> User &#123;</div><div class="line">    id: <span class="built_in">number</span>;</div><div class="line">    name: <span class="built_in">string</span>;</div><div class="line"></div><div class="line">    <span class="comment">//constructor(</span></div><div class="line">    <span class="comment">//    private id: number,</span></div><div class="line">    <span class="comment">//    private name: string</span></div><div class="line">    <span class="comment">//)&#123;&#125;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在TypeScript里，每个成员默认为是public的.所以上面的写法是很简便的.</p>
<p>到这里我们要说的内容已经说完了,源代码可以参考这里<a href="https://github.com/hacking-with-angular/angular2-travel/tree/basics-demo-services-v1" target="_blank" rel="external">angular2-travel</a>,当然欢迎<a href="https://github.com/hacking-with-angular/hacking-with-angular.github.io/issues" target="_blank" rel="external">批评指正</a>.</p>


                
            </div>

            <!-- Comments -->
            
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- #添加多说评论 -->





            </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr/>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                    <li>
                        <a href="https://github.com/hacking-with-angular/hacking-with-angular.github.io" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                        </a>
                    </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">
                    <span id="busuanzi_container_site_pv">
                            本站总访问量<span id="busuanzi_value_site_pv"></span>次
                    </span>
                </p>
                <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                <p class="copyright text-muted">Original Theme <a target="_blank"
                                                                  href="http://startbootstrap.com/template-overviews/clean-blog/">Clean
                        Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a
                            href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//cdn.rawgit.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/jquery-2.1.4.min.js"></script>
<!--<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>-->
<!--<script src="https://raw.githubusercontent.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/jquery-2.1.4.min.js"></script>-->

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
<!--<script src="https://raw.githubusercontent.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/bootstrap.min.js"></script>-->

<!-- Gallery -->
<script src="https://cdn.rawgit.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
<!--<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>-->
<!--<script src="https://raw.githubusercontent.com/dreamapplehappy/hacking-with-angular-blog/master/source/lib/featherlight.min.js" type="text/javascript" charset="utf-8"></script>-->

<!-- Disqus Comments -->



</body>

</html>